<app-nav-menu-interna></app-nav-menu-interna>
<br>
<br><br>
<br>
<h2 class="mt-5 text-primary">Comprovativos</h2>
<table class='table table-striped conteudo' aria-labelledby="tableLabel" *ngIf="comprovativos">
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Interveniente</th>
      <th>Data Validade</th>
      <th>Data Entrega</th>
      <th>Status</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let comp of comprovativos">
      <td>{{ comp.id }}</td>
      <td>{{ comp.interveniente }}</td>
      <td>{{ comp.dtValidade }}</td>
      <td>{{ comp.dtEntrada }}</td>
      <td>{{ comp.status }}</td>
      <td>{{ comp.socialDenomination }}</td>
      <td *ngIf="comp.filename != ''">
        <button type="button" class="btn btn-default btn-sm" value="a" id="a" (click)="onDelete(comprovativos[0].id)">
        </button>
        <button type="button" class="btn btn-default btn-sm" value="b" id="b" (click)="search(comp.url, comp.filename)">
        </button>
        <button type="button" class="btn btn-default btn-sm" value="c" id="c"
                (click)="download(comp.url, comp.filename)">
        </button>
      </td>
      <td *ngIf="comp.filename == ''"></td>
    </tr>
  </tbody>
</table>
<div class="col-lg-12">
  <div style="text-align: left;">
    <a class="btn btn-link" (click)="openModalWithComponent(comprovativos)" role="button" style="color: blue;">
      Checklist
      de Documentos >>>
    </a>
  </div>
<br>
  <div class="col-xxl">
    <p class="titulo-form-simples ">
      Observações: &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="obs" type="text" #box >
  </div>

  <div style="text-align: right;">
    <label for="arquivo" class="btn btn-lg btn-outline-primary">Anexar</label>
    <input type="file" name="arquivo" id="arquivo" (change)="selectFile($event,comprovativos)" style="display: none"
           accept=".pdf">
  </div>
</div>

<input type="checkbox" id="validate" name="validate" value="validateClient">
  <label for="validate">Validou que os documentos necessários foram efetivamente os carregados?
  </label><br>
<input type="checkbox" id="clientPresence" name="clientPresence" value="clientPresence">
  <label for="clientPresence">Na presença do cliente?
  </label><br>
<ng-template #deleteModal>
  <div style="margin: auto;width: 50%;padding: 10px;text-align: center;">
    <p>Tem certeza que deseja excluir?</p>
    <button type="button" class="btn btn-primary" (click)="confirmDelete(comprovativos[0].id)">Sim</button>
    <button type="button" class="btn btn-primary" (click)="declineDelete()">Não</button>
  </div>
</ng-template>


<div>
  <button id="btn5a" class="btn text-start bg-primary text-light btn-primary style10 mt-3 ms-2 btn-lg"
  [routerLink]="['/']">
  Sair&nbsp;
</button>
<button id="btn5a" class="btn text-start bg-primary text-light btn-primary style10 mt-3 ms-2 btn-lg">
  Cancelar&nbsp;
</button>
<button id="btn5a" class="btn text-start bg-primary text-light btn-primary style10 mt-3 ms-2 btn-lg"
[routerLink]="['/client']">
  Voltar&nbsp;
</button>
<button id="btn5a" class="btn text-start bg-primary text-light btn-primary style10 mt-3 ms-2 btn-lg"
        (click)="obterStakeholders()">
  Submeter Pedido&nbsp;<i class="fas fa-angle-right">&nbsp;</i>
</button>
</div>
