<app-nav-menu-interna></app-nav-menu-interna>
<div class="container-fluid conteudo me-0 mb-0 pt-0 pb-0 ps-0 pe-0">
  <div class="row mb-5 mt-3">
    <div class="offset-1 bg-white col-7 col-8">
      <span class="mt-4 mb-4">
        <h2 class="mt-4 text-primary">Identificação do Interveniente </h2>
      </span>
    </div>




<!--<div class="container">
  <form #contactForm="ngForm">
    <div class="form-group">
      <label for="stakeholderType">Tipo de Interveniente</label>
      <input required ngModel #stakeholderType="ngModel" name="stakeholderType" type="text" id="stakeholderType"
        class="form-control" [(ngModel)]="newStake.stakeholderType">
      <div class="alert alert-danger" *ngIf="stakeholderType.touched && !stakeholderType.valid">
        O parâmetro "tipo de interveniente" é obrigatório.
      </div>
    </div>
    <div class="form-group">
      <label for="electronicCollectFlag">Recolha eletrónica</label>
      <input required ngModel name="electronicCollectFlag" type="radio" value=true #electronicCollectFlag="ngModel"
        [value]="true" id="electronicCollectFlag" [(ngModel)]="newStake.electronicCollectFlag">
      <label for="sim">Sim</label>
      <input required ngModel name="electronicCollectFlag" type="radio" value=false #electronicCollectFlag="ngModel"
        [value]="false" id="electronicCollectFlag" [(ngModel)]="newStake.electronicCollectFlag">
      <label for="nao">Não</label>
      <div class="alert alert-danger" *ngIf="!electronicCollectFlag.touched && !electronicCollectFlag.valid">
        electronicCollectFlag is required.
      </div>
    </div>
  -->

<!--FORM TAG-->
<div class="offset-1 bg-white col-7 col-10">
<p class="">Associado ao Contrato:*</p>
    <div class="form-check">
      <input class="form-check-input" required formControlName="contractAssociation" name="contractAssociation" type="radio" value=true
              id="contractAssociation">
      <label class="radio">Sim</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" required formControlName="contractAssociation" name="contractAssociation" type="radio" value=false
              id="contractAssociation">
      <label class="radio" for="radio2">Não</label>
    </div>
    <p></p>

    <p class="">Procurador:*</p>
    <div class="form-check">
      <input class="form-check-input" required formControlName="procurator" name="procurator" type="radio" value=true
              id="procurator">
      <label class="radio">Sim</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" required formControlName="procurator" name="procurator" type="radio" value=false
              id="procurator">
      <label class="radio" for="radio2">Não</label>
    </div>

    <p class="">Pretende efetuar a Atualização Eletrónica dos Dados utilizando o Cartão de Cidadão?:*</p>
    <div class="form-check">
      <input class="form-check-input" required formControlName="flagRecolhaEletronica" name="flagRecolhaEletronica" type="radio" value=true
              id="flagRecolhaEletronica" (click)="validateCC(true)">
      <label class="radio">Sim</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" required formControlName="procurflagRecolhaEletronicaator" name="flagRecolhaEletronica" type="radio" value=false
              id="flagRecolhaEletronica" (click)="validateCC(false)">
      <label class="radio" for="radio2">Não</label>
    </div>


<!--Sem CC-->

<div *ngIf="showNoCC">
  <form [formGroup]="formNewStakeholder" (ngSubmit)="submit(formNewStakeholder.value)">

    <!--<div class="form-group">
      <label for="fullName">Nome do Cliente</label>
      <input type="text" formControlName="fullName"
             id="fullName" class="form-control" [(ngModel)]="newStake.fullName">
      <div class="alert alert-danger" *ngIf="fullName.touched && !fullName.valid">
        <div *ngIf="clientName.errors && clientName.errors['required']">Client Name is required.</div>
        <div *ngIf="clientName.errors && clientName.errors['minlength']">
          Client Name must have at least 2 characters.
        </div>
        <div *ngIf="clientName.errors && clientName.errors['maxlength']">
          Clients Name has a maximum of 100 characters.
        </div>
      </div>
    </div>-->
    <div class="form-group">
      <label for="documentType">
        Tipo de Documento de Identificação (1ª Nacionalidade):*
      </label>
      <input name="identificationDocumentType" formControlName="documentType"
             class="form-control" [(ngModel)]="newStake.identificationDocument.identificationDocumentType">
      <!--<div class="alert alert-danger" *ngIf="documentType.touched && !documentType.valid">
        documentType is required.
      </div>-->
    </div>

    

    <div class="form-group">
      <label for="documentCountry">
        País de Documento de Identificação (1ª Nacionalidade):*
      </label>
      <input name="documentCountry" formControlName="documentCountry"
             class="form-control" [(ngModel)]="newStake.identificationDocument.identificationDocumentCountry">
      <!--<div class="alert alert-danger" *ngIf="documentCountry.touched && !documentCountry.valid">
        documentCountry is required.
      </div>-->
    </div>

    <div class="form-group">
      <label for="identificationDocumentId">
        Nº Documento de Identificação (1ª Nacionalidade):*
      </label>
      <input name="identificationDocumentId" formControlName="identificationDocumentId"
             class="form-control" [(ngModel)]="newStake.identificationDocument.identificationDocumentNumber">
      <!--<div class="alert alert-danger" *ngIf="identificationDocumentId.touched && !identificationDocumentId.valid">
        nrDocumentoID is required.
      </div>-->
    </div>

    <div class="form-group">
      <label for="identificationDocumentValidUntil">
        Data de Validade Doc. de Identificação (1ª Nacionalidade):*
      </label>
      <input name="identificationDocumentValidUntil" formControlName="identificationDocumentValidUntil" cols="30" rows="10"
             class="form-control" [(ngModel)]="newStake.identificationDocument.identificationDocumentExpirationDate">
      <!--<div class="alert alert-danger" *ngIf="dateDocumentID.touched && !dateDocumentID.valid">
        dataDocumentoID is required.
      </div>-->
    </div>
  </form>
</div>

<p><b>Identificação do Interveniente II</b></p>
<div class="form-group">
  <div class="col-xxl">
    <p class="titulo-form-simples ">
      NIF &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="fiscalId" type="text" #box [(ngModel)]="newStake.fiscalId">
  </div>
  
  <!--<div class="alert alert-danger" *ngIf="fiscalId.touched && !fiscalId.valid">
    O parâmetro "NIF" é obrigatório.
  </div>-->

  <div class="col-xxl">
    <p class="titulo-form-simples ">
      Cargo &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="roleStakeholder" type="text" #box>
  </div>
  <!--<div class="alert alert-danger" *ngIf="roleStakeholder.touched && !roleStakeholder.valid">
    O parâmetro "Cargo" é obrigatório.
  </div>-->

  <div class="col-xxl">
    <p class="titulo-form-simples ">
      País da Morada Fiscal &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="streetAdressStakeholder" type="text" #box [(ngModel)]="newStake.fiscalAddress.address">
  </div>
  <!--<div class="alert alert-danger" *ngIf="roleStakeholder.touched && !roleStakeholder.valid">
    O parâmetro "Morada Fiscal" é obrigatório.
  </div>-->

  <div class="col-xxl">
    <p class="titulo-form-simples ">
      Código Postal &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="postCodeAdressStakeholder" type="text" #box [(ngModel)]="newStake.fiscalAddress.postalCode">
  </div>
  <!--<div class="alert alert-danger" *ngIf="postalCode.touched && !postalCode.valid">
    O parâmetro "Código postal" é obrigatório.
  </div>-->

  <div class="col-xxl">
    <p class="titulo-form-simples ">
      Localidade &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="areaBillingAdressStakeholder" type="text" #box [(ngModel)]="newStake.fiscalAddress.postalArea">
  </div>
  <!--<div class="alert alert-danger"
    *ngIf="postalArea.touched && !postalArea.valid">
    O parâmetro "Código postal" é obrigatório.
  </div>-->

  <div class="col-xxl">
    <p class="titulo-form-simples ">
      Morada Fiscal &nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    <input id="countryBillingAdressStakeholder" type="text" #box [(ngModel)]="newStake.fiscalAddress.country">
  </div>
  <!--<div class="alert alert-danger"
    *ngIf="countryBillingAdressStakeholder.touched && !countryBillingAdressStakeholder.valid">
    O parâmetro "Código postal" é obrigatório.
  </div>-->



  <div *ngIf="showYesCC">
    <!-- Parte feita pelo Filipe, ver consequencias de alterar-->
    <div class="col-sm-6">
      <div class="card">
        <div class="form-group" *ngIf="readcard" style="width:450px">
          Nome:<input ngModel #clientName="ngModel" name="clientName" type="text" id="clientName" class="form-control"
                      [(ngModel)]="readcard[0]" readonly>
          Nr Doc:<input ngModel #nrDocumentoID="ngModel" name="nrDocumentoID" type="text" id="nrDocumentoID"
                        class="form-control" [(ngModel)]="readcard[1]" readonly>
          Data Documento:<input ngModel #dateDocumentID="ngModel" name="dateDocumentID" type="text"
                                id="dateDocumentID" class="form-control" [(ngModel)]="readcard[2]" readonly>
          Nif:<input ngModel #stakeholderNif="ngModel" name="stakeholderNif" type="text" id="stakeholderNif"
                     class="form-control" [(ngModel)]="readcard[3]" readonly>
          Nacionalidade:<input ngModel #documentCountry="ngModel" name="documentCountry" type="text"
                               id="documentCountry" class="form-control" [(ngModel)]="readcard[4]" readonly>
          Morada:<input ngModel #streetAdressStakeholder="ngModel" name="streetAdressStakeholder" type="text"
                        id="streetAdressStakeholder" class="form-control" [(ngModel)]="readcard[8]" readonly>
          Morada:<input ngModel #postCodeAdressStakeholder="ngModel" name="postCodeAdressStakeholder" type="text"
                        id="postCodeAdressStakeholder" class="form-control" [(ngModel)]="readcard[9]" readonly>
          Área:<input ngModel #areaBillingAdressStakeholder="ngModel" name="areaBillingAdressStakeholder" type="text"
                      id="areaBillingAdressStakeholder" class="form-control" [(ngModel)]="readcard[6]" readonly>
          País Morada Fiscal:<input ngModel #countryBillingAdressStakeholder="ngModel"
                                    name="countryBillingAdressStakeholder" type="text" id="countryBillingAdressStakeholder"
                                    class="form-control" [(ngModel)]="readcard[5]" readonly>
        </div>
      </div>
    </div>
  </div>

  <button type="submit" (click)="submit(formNewStakeholder.value)"> Submeter </button>


</div>

<br>
<br>

<button (click)="onClickDelete(newStake.fiscalId, newStake.fullName)" class="btn btn-primary">Eliminar</button>

<br>
<br>
<br>
Clique em Ler Cartão para proceder à leitura do Cartão de Cidadão

<form>
  <button type="submit">Ler Cartão de Cidadão</button>
</form>



<div>
  All countries test API
  <form>
    <button (click)="getAll()">Get Countries</button>
  </form>
</div>
</div>
</div>
</div>
