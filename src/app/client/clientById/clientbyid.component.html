<app-nav-menu-interna></app-nav-menu-interna>

<form [formGroup]="form" name="form">
  <div class="container-fluid conteudo mt-0 ms-0 me-0 pt-0 ps-0 pe-0">
    <div class="row">
      <div class="offset-1 col-10 bg-primary mt-5 pt-0 ps-0 pe-0">
        <nav class="navbar navbar-expand-lg navbar-light bg-primary mt-0 pt-0 pb-0">
          <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="70px" height="32px" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
               viewBox="0 0 324 148.998">
            <defs>
              <style type="text/css">
                .fil0 {
                  fill: rgb(var(--bs-primary-rgb))
                }

                .fil1 {
                  fill: rgb(var(--bs-icon-secondary-rgb))
                }
              </style>
            </defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer" />
              <rect class="fil0" x="-0.201492" y="-0.0493018" width="324.402" height="149.097" />
              <path class="fil1" d="M94.1079 -0.0507874l32.7768 0 0 91.9654c0,23.4224 11.7732,34.0512 35.1177,34.0512 23.3421,0 35.1248,-10.6264 35.1248,-33.8362l0 -92.1791 32.7638 0.0023622 0 93.4819c0,28.024 -11.6657,46.7291 -33.2185,55.6146l-69.3484 0c-21.5539,-8.88543 -33.2161,-27.5906 -33.2161,-55.6146l0 -93.4854 0 0z" />
            </g>
        </svg>
          <span class="navbar-text">
            <h5 class="subtitulo_barras_horizontais align-self-center text-success mt-0 mb-0 pt-0 pb-0" *ngIf="queueName == ''">
              {{'client.title'|translate|uppercase}}
            </h5>
            <h5 class="subtitulo_barras_horizontais align-self-center text-success mt-0 mb-0 pt-0 pb-0" *ngIf="queueName != ''">
              {{queueName + ' | ' + title |uppercase}}
            </h5>
          </span>
        </nav>
      </div>
      <div class="offset-1 bg-white align-self-center col-10 mt-0 pt-0 ps-0" style="padding-right: 0px;">
        <ng-container>
          <div class="mb-3 mt-4">
            <div class="accordion1 accordion-flush mb-3" id="accordionFlushExample">
              <div class="accordion1-item">
                <h2 class="accordion1-header" id="flush-headingOne">
                  <button id="accordionButton1" class="accordion1-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    <span class="material-symbols-outlined icon-accordion filter icon-filter">
                      <!--<img src="assets/images/filter.svg" class="img_add" style="height: 33px;">-->
                    </span>
                    &nbsp;&nbsp;{{'client.companyCaracterization'|translate|uppercase}}&nbsp;&nbsp;
                    <img src="assets/images/triangle-exclamation-solid.svg"
                      *ngIf="touchedTabs[0] && !form.get('clientCharacterizationForm').valid" class="img_add"
                      style="height: 33px;">
                  </button>
                </h2>
                <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                  data-bs-parent="#accordionFlushExample">
                  <div *ngIf="clientContext">
                    <app-client-characterization
                      (formClientCharacterizationReady)="formClientCharacterizationIsValid($event)"
                      [clientContext]="clientContext"></app-client-characterization>
                  </div>
                </div>
              </div>
              <div class="accordion1-item" *ngIf="clientContext?.isClient == false"> <!-- adicionar um ! -->
                <h2 class="accordion-header" id="flush-headingTwo">
                  <button id="accordionButton2" class="accordion1-button collapsed" type="button" data-bs-toggle="collapse"
                    (click)="onActivate()" data-bs-target="#flush-collapseTwo" aria-expanded="false"
                    aria-controls="flush-collapseTwo">
                    <span class="material-symbols-outlined icon-accordion manage-accounts icon-manage-accounts">
                      <!--<img src="assets/images/manage_accounts.svg" />-->
                    </span>
                    &nbsp;&nbsp;{{'client.companyInformation'|translate|uppercase}}&nbsp;&nbsp;
                    <img src="assets/images/triangle-exclamation-solid.svg"
                      *ngIf="touchedTabs[1] && !form.get('countrysForm').valid" class="img_add" style="height: 33px;">
                  </button>
                </h2>
                <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                  data-bs-parent="#accordionFlushExample">
                  <div>
                    <app-countrys (formCountrysReady)="formClientCountryIsValid($event)"
                      (countryIsValid)="countryListValidator($event)" [clientContext]="clientContext"
                      [inline]="true"></app-countrys>
                  </div>
                </div>
              </div>

              <div class="accordion1-item"> <!--*ngIf="clientContext?.isClient || (clientDocs != null && clientDocs.length > 0)"-->
                <h2 class="accordion-header" id="flush-headingFour">
                  <button id="accordionButton4" class="accordion1-button collapsed" type="button" data-bs-toggle="collapse"
                    (click)="onActivate()" data-bs-target="#flush-collapseFour" aria-expanded="false"
                    aria-controls="flush-collapseFour">
                    <span class="material-symbols-outlined icon-accordion contact-page icon-contact-page">
                      <!--<img src="assets/images/contact_page.svg" style="height: 33px;" />-->
                    </span>
                    &nbsp;&nbsp;{{'client.documents'|translate|uppercase}}&nbsp;&nbsp;
                  </button>
                </h2>
                <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour"
                  data-bs-parent="#accordionFlushExample">
                  <div class="offset-1 col-12 mt-5 ms-0 me-0 ps-0 pe-0">
                    <p class="titulo-form-simples" *ngIf="clientDocs == null || clientDocs.length == 0">
                      {{'supportingDocuments.documentsListEmpty'|translate}}</p>
                    <div class="table-responsive mt-5 mb-5 pb-5" *ngIf="clientDocs != null && clientDocs.length > 0">
                      <table class="table">
                        <thead class="text-primary table-primary">
                          <tr class="table-white text-primary">
                            <th scope="col" class="text-center text-primary bg-light table-white">
                              {{'supportingDocuments.type'|translate}}
                            </th>
                            <th scope="col" class="text-center bg-light">
                              {{'supportingDocuments.receptionDate'|translate}}</th>
                            <th scope="col" class="text-center bg-white">{{'generalKeywords.expirationDate'|translate}}
                            </th>
                            <th scope="col" class="text-center bg-white"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let docum of clientDocs">
                            <td class="text-primary text-center">{{getDocumentDescription(docum.documentType)}}</td>
                            <td class="text-primary text-center">{{docum.receivedAt}}</td>
                            <td class="text-primary text-center">{{docum.validUntil}}</td>
                            <td>
                              <span class="search-blue icon-search-blue" (click)="getClientDocumentImage(docum.uniqueReference, docum.format, docum.archiveSource)">
                                <!--<img src="assets/images/search_blue.svg"
                                  (click)="getClientDocumentImage(docum.uniqueReference, docum.format, docum.archiveSource)"
                                  style="height: 25px !important; vertical-align: sub; cursor: pointer;">-->
                              </span>
                            </td>
                          </tr>
                          <tr>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

              <div class="accordion1-item" *ngIf="submissionType === 'DigitalComplete'">
                <h2 class="accordion-header" id="flush-headingThree">
                  <button id="accordionButton3" class="accordion1-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    <span class="material-symbols-outlined icon-accordion supervisor-account icon-supervisor-account">
                      <!--<img src="assets/images/supervisor_account.svg" />-->
                    </span>
                    &nbsp;&nbsp;{{'client.companyPower'|translate|uppercase}}&nbsp;&nbsp;
                    <!--<img src="assets/images/triangle-exclamation-solid.svg"
                      *ngIf="touchedTabs[2] && !form.get('powerRepresentationForm').valid" class="img_add"
                      style="height: 33px;">-->
                  </button>
                </h2>
                <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree"
                  data-bs-parent="#accordionFlushExample">
                  <app-representation-power [clientContext]="clientContext"></app-representation-power>
                </div>
              </div>
            </div>

          </div>
        </ng-container>

        <div class="col-10">
          <div class="row">
            <div class="col">
              <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-start align-items-center mb-4">
                <span class="navbar-text align-self-center ms-0 me-0">
                  <button id="btn5a1"
                    class="btn botao_branco_pesquisa center-align text-start vertical-align: baseline; btn-lg mt-3 mb-0 ms-0 pt-3 pb-3 ps-3 pe-3"
                    wappler-command="editContent" [routerLink]="['/']">
                    {{'generalKeywords.exit'|translate|uppercase}}&nbsp;<span class="material-symbols-rounded m-align exit-to-app icon-exit-to-app">
                      <!--<img src="assets/images/exit_to_app.svg" style="height: 25px !important;">-->
                    </span>
                  </button>
                  <button *ngIf="returned != 'consult'" id="btn5a3" (click)="openCancelPopup()"
                    class="btn botao_branco center-align text-start vertical-align baseline; btn-lg mt-3 mb-0 ms-2 me-2 pt-3 pb-3 ps-3 pe-3"
                    wappler-command="editContent">{{'generalButtons.cancel'|translate|uppercase}}&nbsp;
                  <span class="cancel icon-cancel"></span>
                  <!--<img src="assets/images/cancel.svg" style="height: 25px !important; vertical-align: sub;">-->
                  </button>
                </span>
                <button id="btn5a3" *ngIf="!(returned == 'edit' && (processId == null || processId == ''))"
                  class="btn botao_azul_pesquisa center-align text-start vertical-align: baseline; mt-3 mb-0 ms-2 me-1 pt-3 pb-3 ps-3 btn-lg"
                  wappler-command="editContent" (click)="openReturnPopup()">
                  <span class="material-symbols-rounded m-align">
                    <img src="assets/images/arrow_back_ios_white.svg" style="height: 25px !important;">
                  </span>{{'generalKeywords.back'|translate|uppercase}}&nbsp;
                </button>
                <button id="btn5a2"
                        class="btn botao_azul_pesquisa center-align center-align text-start vertical-align: baseline; mt-3 mb-0 ms-1 me-1 pt-3 pb-3 btn-lg"
                        wappler-command="editContent" (click)="submit()">
                  <!--[disabled]="!formClientIsValid || !formCountryIsValid || !countriesListValid"-->
                  {{'generalKeywords.next'|translate|uppercase}}&nbsp;<span class="material-symbols-rounded m-align">
                    <img src="assets/images/arrow_forward_ios.svg" style="height: 25px !important;">
                  </span>
                </button>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<ng-template #returnModal>
  <main class="container-fluid bg-primary ms-0 me-0 ps-0 pe-0">
    <div class="container-fluid ms-0 me-0 ps-0 pe-0">
      <div class="row justify-content-center mt-0 ms-2 me-0 pt-0 pb-0 ps-0 pe-0">
        <div class="align-self-center ms-0 me-0 pt-0 pb-0 ps-0 pe-0 col-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-primary mt-0 mb-0 ms-0 me-0 pt-0 pb-0 ps-0 pe-0">
            <span class="navbar-text ms-auto align-self-start">
              <h2 class="text-light mt-0 mb-0 ms-0 pt-0 pb-0 ps-0 pe-4" (click)="closeReturnPopup()" style="cursor: pointer;">x</h2>
            </span>
          </nav>
        </div>
        <div class="row mb-5 ms-0 me-0 ps-0 pe-0">
          <div class="mb-5 ps-0 pe-0 col-12">
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center bg-primary mt-0 mb-0 pt-0 pb-0">
              <span class="navbar-text"></span>
              <span class="material-symbols-rounded icon_alerta">
                <img src="assets/images/warning.svg" class="img_warning">
              </span>
            </nav>
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center bg-primary mt-0 mb-0 pt-0 pb-0 text-center">
              <span class="navbar-text">
                <h5 class="fw-bold text-light mb-2">{{'client.returnSearchMsg'|translate|uppercase}}</h5>
              </span>
            </nav>
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center pt-0 pb-0 bg-primary">
              <span class="navbar-text"></span>
              <span class="navbar-text pb-0 pt-sm-0">
                <button id="btn5a"
                        class="btn text-start bg-primary text-light btn-primary boto_alerta_modal mt-4 mb-0 ms-3 me-3 pt-3 pb-3 ps-3 pe-3"
                        wappler-command="editContent"
                        (click)="closeReturnPopup()">
                  {{'generalKeywords.no'|translate|uppercase}}
                </button>
              </span>
              <span class="navbar-text pt-0 pb-0">
                <button id="btn5a1" (click)="redirectBeginningClient()"
                        class="btn text-start text-light btn-primary boto_alerta_modal bg-primary mt-4 mb-0 ms-3 me-3 pt-3 pb-3 ps-3 pe-3 mb-sm-0"
                        wappler-command="editContent">
                  {{'generalKeywords.yes'|translate|uppercase}}
                </button>
              </span>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </main>
</ng-template>
<ng-template #cancelModal>
  <main class="container-fluid bg-primary ms-0 me-0 ps-0 pe-0">
    <div class="container-fluid ms-0 me-0 ps-0 pe-0">
      <div class="row justify-content-center mt-0 ms-2 me-0 pt-0 pb-0 ps-0 pe-0">
        <div class="align-self-center ms-0 me-0 pt-0 pb-0 ps-0 pe-0 col-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-primary mt-0 mb-0 ms-0 me-0 pt-0 pb-0 ps-0 pe-0">
            <span class="navbar-text ms-auto align-self-start">
              <h2 class="text-light mt-0 mb-0 ms-0 pt-0 pb-0 ps-0 pe-4" (click)="closeCancelPopup()" style="cursor: pointer;">x</h2>
            </span>
          </nav>
        </div>
        <div class="row mb-5 ms-0 me-0 ps-0 pe-0">
          <div class="mb-5 ps-0 pe-0 col-12">
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center bg-primary mt-0 mb-0 pt-0 pb-0">
              <span class="navbar-text"></span>
              <span class="material-symbols-rounded icon_alerta">
                <img src="assets/images/warning.svg" class="img_warning">
              </span>
            </nav>
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center bg-primary mt-0 mb-0 pt-0 pb-0 text-center">
              <span class="navbar-text">
                <h5 class="fw-bold text-light mb-2">{{'client.cancelMsg'|translate|uppercase}}</h5>
              </span>
            </nav>
            <nav class="navbar navbar-expand-lg navbar-light justify-content-center pt-0 pb-0 bg-primary">
              <span class="navbar-text"></span>
              <span class="navbar-text pb-0 pt-sm-0">
                <button id="btn5a"
                        class="btn text-start bg-primary text-light btn-primary boto_alerta_modal mt-4 mb-0 ms-3 me-3 pt-3 pb-3 ps-3 pe-3"
                        wappler-command="editContent"
                        (click)="closeCancelPopup()">
                  {{'generalKeywords.no'|translate|uppercase}}
                </button>
              </span>
              <span class="navbar-text pt-0 pb-0">
                <button id="btn5a1" (click)="confirmCancel()"
                        class="btn text-start text-light btn-primary boto_alerta_modal bg-primary mt-4 mb-0 ms-3 me-3 pt-3 pb-3 ps-3 pe-3 mb-sm-0"
                        wappler-command="editContent">
                  {{'generalKeywords.yes'|translate|uppercase}}
                </button>
              </span>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </main>
</ng-template>
