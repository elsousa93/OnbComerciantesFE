<app-nav-menu-interna></app-nav-menu-interna>
<div class="container-fluid conteudo mt-0 ms-0 me-0 pt-0 ps-0 pe-0">
  <div class="row">
    <div class="offset-1 col-10 bg-primary mt-5 pt-0 ps-0 pe-0">
      <nav class="navbar navbar-expand-lg navbar-light bg-primary mt-0 pt-0 pb-0">
        <span class="navbar-text text-light">
          <img src="assets/images/monograma_2.svg" class="img-fluid ms-0" width="70">
        </span>
        <span class="navbar-text">
          <h5 class="subtitulo_barras_horizontais align-self-center text-success mt-0 mb-0 pt-0 pb-0">
            {{'declarativeInformation.title'|translate|uppercase}}</h5>
        </span>
      </nav>
    </div>
    <div class="offset-1 col-10 mt-5 pt-0 ps-0 pe-0">
      <ul class="nav nav-tabs" id="navTabs1_tabs" role="tablist">
        <li class="nav-item">
          <a class="nav-link disabled btn-outline-primary activo_tabs activo-tabd" id="navTabs1_1_tab"
            data-bs-toggle="tab" href="#" data-bs-target="#navTabs1_1" role="tab" aria-controls="navTabs1_1"
            aria-selected="true">{{'client.title'|translate}}</a>
        </li>
        <li class="nav-item_x">
          <a class="nav-link disabled active btn-primary" id="navTabs1_2_tab" data-bs-toggle="tab" href="#"
            data-bs-target="#navTabs1_2" role="tab" aria-controls="navTabs1_2"
            aria-selected="false">{{'stakeholder.title'|translate}}</a>
        </li>
        <li class="nav-item_x">
          <a class="nav-link disabled btn-outline-primary" id="navTabs1_3_tab" data-bs-toggle="tab" href="#"
            data-bs-target="#navTabs1_3" role="tab" aria-controls="navTabs1_3"
            aria-selected="false">{{'stores.title'|translate}}</a>
        </li>
        <li class="nav-item_x">
          <a class="nav-link disabled btn-outline-primary" id="navTabs1_3_tab1" data-bs-toggle="tab" href="#"
            data-bs-target="#navTabs1_3" role="tab" aria-controls="navTabs1_3"
            aria-selected="false">{{'declarativeInformation.packSignature'|translate}}</a>
        </li>
      </ul>
      <div class="tab-content" id="navTabs1_content">
        <div class="tab-pane fade show active" id="navTabs1_2" role="tabpanel">
          <div class="container-fluid mt-0 ps-3 pe-3">
            <div class="row">
              <div class="bg-white align-self-center col-12 laterais_tabs mt-0 ms-0 me-0 pt-4 ps-5 pe-5">
                <h2 class="text-primary mt-3 ps-0"><img src="assets/images/frame_person.svg" class="img_add"
                    style="height:37px;">&nbsp;{{'declarativeInformation.stakeholder.pep.title'|translate}}
                </h2>
                <p class="titul campo_obrigatrio">{{'generalKeywords.mandatoryField'|translate}}</p>
                <div class="row ms-0 me-0">
                  <form [formGroup]="form" (ngSubmit)="submit()" name="form">
                      <div class="col-6 ms-0 me-0 ps-0 pe-5 form-group">
                      <p class="titulo-form-simples mb-1">{{'declarativeInformation.stakeholder.pep.isPEP'|translate}}:</p>
                      <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio pe-5">{{'generalKeywords.yes'|translate|uppercase}}
                            <input class="form-check-input" name="pep12months" type="radio" value="true" 
                            formControlName="pep12months" id="pep12months" (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span><span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio">{{'generalKeywords.no'|translate|uppercase}}
                            <input class="form-check-input" name="pep12months" type="radio" value="false"
                              formControlName="pep12months" id="pep12months"
                              (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span>
                      </nav>
                      <div class="showDiv form-group" *ngIf="isVisiblePep12months == true">
                        <label class="form-check-label titulo-form-simples mb-1" for="pepType">
                          {{'declarativeInformation.stakeholder.pep.PEPType'|translate}}:*
                          <select (change)="checkSelectedPEP()" class="form-select" formControlName="pepType" name="pepType" id="pepType">
                            <option>teste</option>
                            <option *ngFor="let pep of PEPTypes" value={{pep.code}}>{{pep.description}} </option>
                          </select>
                        </label>
                        <div class="alert alert-danger"
                          *ngIf="this.form.get('pepType').touched && !this.form.get('pepType').valid">
                          <div *ngIf="this.form.get('pepType').errors && this.form.get('pepType').errors?.['required']">
                            {{'generalKeywords.mandatoryParameter'|translate}}
                          </div>
                        </div>
                        <label class="form-check-label titulo-form-simples mb-1" for="pepCountry">
                          {{'declarativeInformation.stakeholder.pep.country'|translate}}:*
                          <select (change)="checkSelectedPEP()" class="form-select" formControlName="pepCountry" name="pepCountry" id="pepCountry">
                            <option>Portugal</option>
                            <option *ngFor="let country of Countries" value={{country.description}}>
                              {{country.description}} </option>
                          </select>
                        </label>
                        <div class="alert alert-danger"
                          *ngIf="this.form.get('pepCountry').touched && !this.form.get('pepCountry').valid">
                          <div
                            *ngIf="this.form.get('pepCountry').errors && this.form.get('pepCountry').errors?.['required']">
                            {{'generalKeywords.mandatoryParameter'|translate}}
                          </div>
                        </div>
                        <label (change)="checkSelectedPEP()" class="form-check-label titulo-form-simples mb-1" for="pepSinceWhen">
                          {{'declarativeInformation.stakeholder.pep.since'|translate}}:
                          <input formControlName="pepSinceWhen" name="pepSinceWhen" id="pepSinceWhen" type="date"
                            class="form-control" value="">
                        </label>
                      </div><!-- fecha form do pep12months-->
                    <div class="form-group" *ngIf="isVisiblePep12months == false || isVisiblePep12months == true && isPEPTypeSelected == true && isPEPCountrySelected && isPEPSinceSelected == true">

                      <p class="titulo-form-simples mb-1">{{'declarativeInformation.stakeholder.pep.isFamiliar'|translate}}:</p>
                      <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio pe-5">{{'generalKeywords.yes'|translate|uppercase}}
                            <input class="form-check-input" name="pepFamiliarOf" type="radio" value="true" 
                            formControlName="pepFamiliarOf" id="pepFamiliarOf" (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span><span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio">{{'generalKeywords.no'|translate|uppercase}}
                            <input class="form-check-input" name="pepFamiliarOf" type="radio" value="false"
                              formControlName="pepFamiliarOf" id="pepFamiliarOf" (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span>
                      </nav>
                      <div class="showDiv form-group" *ngIf="isVisiblePepFamiliarOf == true">
                        <!-- Se for familiar de uma PEP--->
                        <label class="form-check-label titulo-form-simples mb-1"
                          for="pepFamilyRelation">{{'declarativeInformation.stakeholder.pep.familyRelation'|translate}}:*
                        <select (change)="checkSelectedFamiliar()" class="form-select" formControlName="pepFamilyRelation" name="pepFamilyRelation"
                          id="pepFamilyRelation">
                          <option>Filha</option>
                        </select></label>
                        <div class="alert alert-danger"
                          *ngIf="this.form.get('pepFamilyRelation').touched && !this.form.get('pepFamilyRelation').valid">
                          <div *ngIf="this.form.get('pepFamilyRelation').errors && this.form.get('pepFamilyRelation').errors?.['required']">
                            {{'generalKeywords.mandatoryParameter'|translate}}
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--Fecha é familiar de uma PEP-->
                    <div class="form-group" *ngIf="isVisiblePepFamiliarOf == false || isVisiblePepFamiliarOf == true && isPEPFamilyRelationSelected == true">
                      <p class="titulo-form-simples mb-1">{{'declarativeInformation.stakeholder.pep.relations'|translate}}:</p>
                      <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio pe-5">{{'generalKeywords.yes'|translate|uppercase}}
                            <input class="form-check-input" name="pepRelations" type="radio" value="true" 
                            formControlName="pepRelations" id="pepRelations" (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span><span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio">{{'generalKeywords.no'|translate|uppercase}}
                            <input class="form-check-input" name="pepRelations" type="radio" value="false"
                              formControlName="pepRelations" id="pepRelations"
                              (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span>
                      </nav>
                      <div class="form-group" *ngIf="isVisiblePepRelations == true">
                        <!-- Se mantiver relações com uma PEP--->
                        <label class="form-check-label titulo-form-simples mb-1" for="pepTypeOfRelation">
                          {{'declarativeInformation.stakeholder.pep.relationType'|translate}}:*
                        </label>
                        <select (change)="checkSelectedRelations()" class="form-select" formControlName="pepTypeOfRelation" name="pepTypeOfRelation"
                          id="pepTypeOfRelation">
                          <option value="">{{'declarativeInformation.stakeholder.pep.relationType'|translate}}:</option>
                          <option value="1">Sócio </option>
                        </select>
                        <div class="alert alert-danger"
                          *ngIf="this.form.get('pepTypeOfRelation').touched && !this.form.get('pepTypeOfRelation').valid">
                          <div
                            *ngIf="this.form.get('pepTypeOfRelation').errors && this.form.get('pepTypeOfRelation').errors?.['required']">
                            {{'generalKeywords.mandatoryParameter'|translate}}
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group" *ngIf="isVisiblePepRelations == false || isVisiblePepRelations == true && isPEPRelationSelected == true">
                      
                      <p class="titulo-form-simples mb-1">{{'declarativeInformation.stakeholder.pep.politicJobs'|translate}}:</p>
                      <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio pe-5">{{'generalKeywords.yes'|translate|uppercase}}
                            <input class="form-check-input" name="pepPoliticalPublicJobs" type="radio" value="true" 
                            formControlName="pepPoliticalPublicJobs" id="pepPoliticalPublicJobs" (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span><span class="navbar-text">
                          <div class="form-check"><label class="form-check-label radio">{{'generalKeywords.no'|translate|uppercase}}
                            <input class="form-check-input" name="pepPoliticalPublicJobs" type="radio" value="false"
                              formControlName="pepPoliticalPublicJobs" id="pepPoliticalPublicJobs"
                              (change)="onChangeValues($event)">
                            </label>
                          </div>
                        </span>
                      </nav>
                      <div class="form-group" *ngIf="isVisiblePepPoliticalPublicJobs == true">
                        <!-- Se tiver tido cargos políticos ou públicos--->
                        <label class="form-check-label titulo-form-simples mb-1"
                          for="pepPoliticalPublicJobDesignation">{{'declarativeInformation.stakeholder.pep.role'|translate}}:*</label>
                        <select class="form-select" formControlName="pepPoliticalPublicJobDesignation"
                          name="pepPoliticalPublicJobDesignation" id="pepPoliticalPublicJobDesignation">
                          <option value="">{{'declarativeInformation.stakeholder.pep.role'|translate}}:</option>
                          <option value="Administrador">Administrador</option>
                        </select>
                        <div class="alert alert-danger"
                          *ngIf="this.form.get('pepPoliticalPublicJobDesignation').touched && !this.form.get('pepPoliticalPublicJobDesignation').valid">
                          <div
                            *ngIf="this.form.get('pepPoliticalPublicJobDesignation').errors && this.form.get('pepPoliticalPublicJobDesignation').errors?.['required']">
                            {{'generalKeywords.mandatoryParameter'|translate}}
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                  </form>
                  <div class="col ms-0 ps-0">
                    <hr>
                    <nav
                      class="navbar navbar-expand-lg navbar-light bg-light justify-content-start align-items-center mb-4">
                      <span class="navbar-text me-2 align-self-center ms-0 me-0">
                        <button id="btn5a1" [routerLink]="['/']"
                          class="btn botao_branco center-align text-start vertical-align baseline; btn-lg mt-3 mb-0 ms-0 me-2 pt-3 pb-3 ps-3 pe-3"
                          wappler-command="editContent">{{'generalKeywords.exit'|translate|uppercase}}&nbsp;<img src="assets/images/exit_to_app.svg"
                            style="height: 25px !important; vertical-align: sub;"></button>
                      <button id="btn5a3" [routerLink]="['/']"
                        class="btn botao_branco center-align text-start vertical-align baseline; btn-lg mt-3 mb-0 ms-2 me-2 pt-3 pb-3 ps-3 pe-3"
                        wappler-command="editContent">{{'generalButtons.cancel'|translate|uppercase}}&nbsp;<img src="assets/images/cancel.svg"
                          style="height: 25px !important; vertical-align: sub;"></button>
                      <button id="btn5a4" [routerLink]="['/info-declarativa-stakeholder']"
                        class="btn botao_azul center-align text-start vertical-align: baseline; btn-lg mt-3 mb-0 ms-2 me-2 pt-3 pb-3 ps-3"
                        wappler-command="editContent"><img src="assets/images/arrow_back_ios_white.svg"
                          style="height: 25px !important; vertical-align: sub;">{{'generalKeywords.back'|translate|uppercase}}&nbsp;</button>
                      <button [disabled]="!form.valid" id="btn5a2" (click) = "submit()"
                        class="btn botao_azul center-align center-align text-start vertical-align: baseline; btn-lg mt-3 mb-0 ms-2 me-0 pt-3 pb-3 ps-3"
                        wappler-command="editContent">{{'generalKeywords.next'|translate|uppercase}}&nbsp;<img src="assets/images/arrow_forward_ios.svg"
                          style="height: 25px !important; vertical-align: sub;"></button>
                        </span>
                    </nav>
                    
                  </div>
                </div>